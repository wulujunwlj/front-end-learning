<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		#msg { margin: 10px 0; border: 1px solid black; padding: 10px; width: 300px; height: 100px; }
	</style>
</head>
<body>
	<div>
		<span>demo from : <a href="http://www.codeceo.com/article/html5-localstorage.html">点击这里</a></span>
	</div>
	<div id="msg"></div>
	<input type="text" id="text">
	<select name="" id="type">
		<option value="session">sessionStorage</option>
		<option value="local">localStorage</option>
	</select>
	<button onclick="save();">保存数据</button>
	<button onclick="load();">读取数据</button>

	<script>
		var msg = document.getElementById('msg'),
				text = document.getElementById('text'),
				type = document.getElementById('type');

		var save = function() {
			var str = text.value;
			var t = type.value;
			if(t == 'session') {
				sessionStorage.setItem('msg', str);
			} else {
				localStorage.setItem('msg', str);
			}
		};

		var load = function() {
			var t = type.value;
			if(t == 'session') {
				msg.innerHTML = 'sessionStorage-->' + sessionStorage.getItem('msg');
			} else {
				msg.innerHTML = 'localStorage-->' + localStorage.getItem('msg');
			}
		};
	</script>

	<p>cookie的问题</p>
	<ul>
		<li>cookie大小限制在4k左右，不适合存业务数据</li>
		<li>cookie每次随HTTP事务一起发送，浪费带宽</li>
	</ul>
	
	<p>localstorage的问题</p>
	<ul>
		<li>localstorage大小限制在500万字符左右，各个浏览器不一致</li>
		<li>localstorage在隐私模式下不可读取</li>
		<li>localstorage本质是在读写文件，数据多的话会比较卡（firefox会一次性将数据导入内存，想想就觉得吓人啊）</li>
		<li>localstorage不能被爬虫爬取，不要用它完全取代URL传参</li>
	</ul>

	<p>localstorage存储对象</p>
	<ul>
		<li>sessionStrage： session即会话的意思，在这里的session是指用户浏览某个网站时，从进入网站到关闭网站这个时间段，session对象的有效期就只有这么长。</li>
		<li>localStorage： 将数据保存在客户端硬件设备上，不管它是什么，意思就是下次打开计算机时候数据还在。</li>
	</ul>
</body>
</html>